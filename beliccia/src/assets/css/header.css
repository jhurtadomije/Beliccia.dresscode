:root{
  --hdr-z: 1000;
  --menu-z: 1200;
  --overlay-z: 998;

  --hdr-h: 78px;
  --hdr-h-scrolled: 64px;
  --hdr-expand-h: 128px;

  --hdr-shadow: 0 10px 26px rgba(0,0,0,.10);
  --hdr-shadow-soft: 0 6px 18px rgba(0,0,0,.08);

  --hdr-ease: cubic-bezier(.76,.01,.3,1.01);

  /* tama√±os logo */
  --logo-h-desktop: 11rem;  /* antes 74px */
  --logo-h-mobile: 9rem;   /* antes 52px */
}

/* empuja el contenido para que no quede debajo del header fijo */
body{ padding-top: var(--hdr-h); }
.main-header.scrolled + *{ scroll-margin-top: var(--hdr-h-scrolled); } /* opcional */

/* contenedor fijo */
.main-header{
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: var(--hdr-h);
  z-index: var(--hdr-z);
  transition: height .28s var(--hdr-ease);
}
.main-header.scrolled{ height: var(--hdr-h-scrolled); }

/* fondo visual (NO captura clicks) */
.main-header::before{
  content:"";
  position:absolute;
  inset:0;
  height: 100%;
  pointer-events:none;
  transition:
    height .35s var(--hdr-ease),
    background .35s var(--hdr-ease),
    box-shadow .35s var(--hdr-ease),
    backdrop-filter .35s var(--hdr-ease);
}

/* ====== MODO P√ÅGINAS INTERNAS (siempre blanco, estable) ====== */
.main-header.is-inner::before{
  background: rgba(255,255,255,.94);
  backdrop-filter: blur(8px);
  box-shadow: var(--hdr-shadow-soft);
}
.main-header.is-inner.expanded::before{
  height: var(--hdr-expand-h);
  background: rgba(255,255,255,.92);
  box-shadow: var(--hdr-shadow);
}

/* ====== MODO HOME (sin ‚Äúalfombra blanca‚Äù) ====== */
/* Desktop home arriba: cristal oscuro sutil para que se lean links,
   y el logo negro lo invertimos a blanco */
.main-header.is-home:not(.scrolled)::before{
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(6px);
  box-shadow: none;
}

/* Home al hacer scroll: blanco */
.main-header.is-home.scrolled::before{
  background: rgba(255,255,255,.94);
  backdrop-filter: blur(8px);
  box-shadow: var(--hdr-shadow-soft);
}

/* Home expanded: oscuro si no hay scroll; blanco si hay scroll */
.main-header.is-home.expanded:not(.scrolled)::before{
  height: var(--hdr-expand-h);
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(7px);
}
.main-header.is-home.scrolled.expanded::before{
  height: calc(var(--hdr-expand-h) - 14px);
  background: rgba(255,255,255,.92);
  box-shadow: var(--hdr-shadow);
}

/* navbar */
.main-header .navbar{
  position: relative;
  height: 100%;
  padding: 0;
  display:flex;
  align-items:center;
}
.main-header .navbar .container{
  height: 100%;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 1.6rem;
  position: relative;
}

/* links: home arriba -> blancos (DESKTOP), resto -> negros */
.main-header.is-home:not(.scrolled) .nav-link,
.main-header.is-home:not(.scrolled) .btn-reset-link,
.main-header.is-home:not(.scrolled) .icon-link{
  color: #fff !important;
  text-shadow: 0 2px 14px rgba(0,0,0,.35);
}
.main-header.is-inner .nav-link,
.main-header.is-inner .btn-reset-link,
.main-header.is-inner .icon-link,
.main-header.is-home.scrolled .nav-link,
.main-header.is-home.scrolled .btn-reset-link,
.main-header.is-home.scrolled .icon-link{
  color: #111 !important;
  text-shadow: none;
}

/* bot√≥n link dropdown */
.btn-reset-link{
  background:none;
  border:0;
  padding:0;
  font: inherit;
  cursor:pointer;
}

/* hamburguesa */
.navbar-toggler{
  display:flex;
  flex-direction: column;
  justify-content:center;
  align-items:center;
  width: 3.2rem;
  height: 2.2rem;
  border:none;
  background:none;
  cursor:pointer;
  gap:.28rem;
  z-index: calc(var(--menu-z) + 1);
}
.navbar-toggler .line{
  height:.2rem;
  width:100%;
  border-radius:.15rem;
  transition: transform .3s ease, opacity .3s ease, background-color .25s ease;
}
.main-header.is-home:not(.scrolled) .navbar-toggler .line{ background:#fff; }
.main-header.is-inner .navbar-toggler .line,
.main-header.is-home.scrolled .navbar-toggler .line{ background:#111; }

.navbar-toggler.open .line1{ transform: rotate(45deg) translate(5px,5px); }
.navbar-toggler.open .line2{ opacity: 0; }
.navbar-toggler.open .line3{ transform: rotate(-45deg) translate(6px,-6px); }

/* LOGO grande y estable */
.main-header .navbar-brand{
  display:flex;
  align-items:center;
  line-height: 0;
  margin: 0;
}
.main-header .navbar-brand img{
  display:block;
  height: var(--logo-h-desktop);
  width:auto;
  object-fit: contain;
  transition: transform .35s var(--hdr-ease), filter .25s ease;
  transform-origin: left center;
}

/* En HOME arriba (DESKTOP): invertimos el logo negro -> blanco */
.main-header.is-home:not(.scrolled) .navbar-brand img{
  filter: invert(1) brightness(1.05) contrast(1.05);
}

/* efecto premium suave al expand */
@media (min-width: 992px){
  .main-header.expanded .navbar-brand img{ transform: scale(1.06); }
  .main-header.scrolled .navbar-brand img{ transform: scale(0.96); }
}

/* iconos */
.navbar-icons{
  display:flex;
  align-items:center;
  gap: 1rem;
}
.icon-link{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
}

/* links nav */
.nav-link{
  display:inline-flex;
  align-items:center;
  padding: .65rem .85rem;
  border-radius: 999px;
  transition: background-color .2s ease, opacity .2s ease;
}
.main-header.is-inner .nav-link:hover,
.main-header.is-home.scrolled .nav-link:hover{
  background: rgba(0,0,0,.05);
}
.main-header.is-home:not(.scrolled) .nav-link:hover{
  background: rgba(255,255,255,.12);
}

/* =========================
   DROPDOWNS (FIX: que abran)
   ========================= */

/* Ocultar caret bootstrap */
.navbar .dropdown-toggle::after,
.dropdown-submenu.dropend > .dropdown-toggle::after{
  display:none !important;
  content:none !important;
  border:0 !important;
}

.dropdown-menu{
  background:#fff;
  border:none;
  box-shadow: 0 12px 30px rgba(0,0,0,.12);
  border-radius: .75rem;
  padding: .35rem 0;
}

.dropdown-item{
  color:#111;
  padding: .52rem 1.1rem;
  background: transparent;
  transition: background-color .2s ease;
}
.dropdown-item:hover{ background: rgba(0,0,0,.04); }

/* DESKTOP: importante -> display:block para anular bootstrap display:none */
@media (min-width: 992px){
  .navbar-nav > .nav-item.dropdown{ position: relative; }

  .navbar-nav > .nav-item.dropdown > .dropdown-menu{
    display: block;              /* ‚úÖ clave */
    opacity: 0;
    pointer-events: none;
    visibility: hidden;
    transform: scaleY(.92) translateY(-12px);
    transform-origin: top center;
    transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
    margin-top: .35rem;
  }

  .navbar-nav > .nav-item.dropdown.open > .dropdown-menu,
  .navbar .dropdown:focus-within > .dropdown-menu{
    opacity: 1;
    pointer-events: auto;
    visibility: visible;
    transform: scaleY(1) translateY(0);
    transition-delay: 0s;
    z-index: 220;
  }

  /* submen√∫s */
  .dropdown-submenu.dropend{ position: relative; }

  .dropdown-submenu.dropend > .dropdown-menu{
    display: block;              /* ‚úÖ clave */
    position: absolute;
    top: 0;
    left: 100%;
    margin-left: .25rem;

    opacity: 0;
    pointer-events: none;
    visibility: hidden;
    transform: translateX(14px) scaleX(.96);
    transform-origin: left center;
    transition: opacity .16s ease, transform .16s ease, visibility 0s linear .16s;
    min-width: 220px;
    z-index: 250;
  }

  .dropdown-submenu.dropend.open > .dropdown-menu,
  .dropdown-submenu.dropend:focus-within > .dropdown-menu{
    opacity: 1;
    pointer-events: auto;
    visibility: visible;
    transform: translateX(0) scaleX(1);
    transition-delay: 0s;
  }
}

/* =========================================================
   M√ìVIL: panel + alfombra + (FORZAR TEXTOS NEGROS SIEMPRE)
   ========================================================= */
@media (max-width: 991.98px){

  /* En m√≥vil: aunque estemos en HOME arriba del hero,
     queremos TODO negro (links, iconos, hamburguesa) */
  .main-header.is-home:not(.scrolled) .nav-link,
  .main-header.is-home:not(.scrolled) .btn-reset-link,
  .main-header.is-home:not(.scrolled) .icon-link{
    color: #111 !important;
    text-shadow: none !important;
  }
  .main-header.is-home:not(.scrolled) .navbar-toggler .line{
    background:#111 !important;
  }

  /* En m√≥vil: no invertimos el logo (queda negro) */
  .main-header.is-home:not(.scrolled) .navbar-brand img{
    filter: none !important;
  }

  /* Logo centrado en m√≥vil, m√°s grande */
  .main-header .navbar-brand{
    position:absolute;
    left:50%;
    transform: translateX(-50%);
    z-index: 2;
  }
  .main-header .navbar-brand img{
    height: var(--logo-h-mobile);
    transform: none;
  }

  .collapse.navbar-collapse{
    position:absolute;
    top: 100%;
    left: 0;
    width: 100%;
    z-index: var(--menu-z);
    background: rgba(255,255,255,.98);
    backdrop-filter: blur(10px);
    padding: .75rem 0 1rem;
    box-shadow: var(--hdr-shadow);
    display: none !important;
    overflow-y:auto;
    max-height: calc(100vh - var(--hdr-h));
  }
  .collapse.navbar-collapse.show{
    display:flex !important;
    flex-direction: column;
  }

  .nav-link,
  .btn-reset-link{
    width: 100%;
    text-align: left;
    padding: .7rem 1rem;
    border-radius: 0;
    color:#111 !important;
    text-shadow: none !important;
  }

  /* alfombra animable */
  .navbar .dropdown-menu{
    display:block;
    max-height: 0;
    overflow:hidden;
    opacity: 0;
    transform: translateY(-6px);
    padding: 0;
    background: transparent;
    box-shadow: none;
    transition: max-height .28s ease, opacity .2s ease, transform .22s ease, padding .22s ease;
  }
  .navbar .dropdown-menu.show{
    max-height: 520px;
    opacity: 1;
    transform: translateY(0);
    padding: .25rem 0 .35rem;
  }

  .dropdown-submenu > .dropdown-menu{
    padding-left: .75rem !important;
    border-left: 1px solid rgba(0,0,0,.06);
  }

  .mobile-backdrop{
    position: fixed;
    inset:0;
    background: rgba(0,0,0,.25);
    z-index: var(--overlay-z);
  }
}

@media (max-width: 991.98px){

  /* HOME arriba (header cerrado): blanco SOLO para logo + iconos + hamburguesa */
  .main-header.is-home:not(.scrolled) .navbar-brand img{
    filter: invert(1) brightness(1.05) contrast(1.05);
  }
  .main-header.is-home:not(.scrolled) .navbar-brand img{
    filter: invert(1) brightness(1.05) contrast(1.05) !important;
  }

  /* iconos (FontAwesome) */
  .main-header.is-home:not(.scrolled) .navbar-icons .icon-link,
  .main-header.is-home:not(.scrolled) .navbar-icons .icon-link i{
    color: #fff !important;
    text-shadow: 0 2px 14px rgba(0,0,0,.35);
  }

  /* hamburguesa (l√≠neas) */
  .main-header.is-home:not(.scrolled) .navbar-toggler .line{
    background: #fff !important;
  }

  /* MEN√ö M√ìVIL ABIERTO: enlaces SIEMPRE en negro */
  .collapse.navbar-collapse.show .nav-link,
  .collapse.navbar-collapse.show .btn-reset-link,
  .collapse.navbar-collapse.show .dropdown-item{
    color: #111 !important;
    text-shadow: none !important;
  }
}
@media (min-width: 992px){
  /* Convertimos el container del header en "casi container-fluid" */
  .main-header .navbar > .container{
    max-width: 100% !important;     /* rompe el l√≠mite del container */
    width: 100% !important;
    padding-left: 24px !important;  /* ajusta: 16px / 20px / 24px */
    padding-right: 24px !important;
  }

  /* Logo bien a la izquierda */
  .main-header .navbar-brand{
    margin-right: 0 !important;
  }

  /* Separa un pel√≠n el men√∫ del logo (tu ajuste fino) */
  .main-header .navbar-collapse{
    margin-left: 33rem !important; /* sube/baja a tu gusto: 2.6rem / 3.5rem */
  }
}


/* M√≥viles est√°ndar (360‚Äì575) */
@media (min-width: 360px) and (max-width: 575.98px){
  :root{
    --logo-h-mobile: 9rem; /* üî• m√°s visible en home/hero */
  }
  .navbar-icons{ gap: .9rem; }
}

/* Tablets / iPad portrait (576‚Äì991) */
@media (min-width: 576px) and (max-width: 991.98px){
  :root{
    --logo-h-mobile: 10rem;
  }
  .navbar-icons{ gap: 1rem; }
}

/* 2) ‚ÄúLaptop pack‚Äù (992‚Äì1199): 13/14" t√≠pico
   Aqu√≠ es donde m√°s suele apretar el men√∫ */
@media (min-width: 992px) and (max-width: 1199.98px){
  /* Separa un pel√≠n el men√∫ del logo (tu ajuste fino) */
  .main-header .navbar-collapse{
    margin-left: 3rem !important; 
  }
}

/* 3) Desktop normal (1200‚Äì1399): 15/16" + 24" 1080p */
@media (min-width: 1200px) and (max-width: 1400px){
  /* Separa un pel√≠n el men√∫ del logo (tu ajuste fino) */
  .main-header .navbar-collapse{
    margin-left: 10rem !important; /* sube/baja a tu gusto: 2.6rem / 3.5rem */
  }
}

/* 4) Pantalla grande (>=1400): 27" 1440p */
@media (min-width: 1400px) and (max-width: 1920px){
 /* Separa un pel√≠n el men√∫ del logo (tu ajuste fino) */
  .main-header .navbar-collapse{
    margin-left: 25rem !important; /* sube/baja a tu gusto: 2.6rem / 3.5rem */
  }
}

/* 5) Ultra-wide (>=1920): 27" 4K/ultra-wide
   No agrandamos infinito, solo damos aire */
@media (min-width: 1920px){
  /* Separa un pel√≠n el men√∫ del logo (tu ajuste fino) */
  .main-header .navbar-collapse{
    margin-left: 30rem !important; /* sube/baja a tu gusto: 2.6rem / 3.5rem */
  }
}

/* 6) Seguridad: evita que el logo ‚Äúsalte‚Äù o se recorte en height */
.main-header .navbar-brand img{
  max-height: 100%;
}

/* 7) M√≥vil: aunque est√©s en HOME arriba (iconos/blanco),
   los enlaces del panel desplegado siempre negros */
@media (max-width: 991.98px){
  .collapse.navbar-collapse.show .nav-link,
  .collapse.navbar-collapse.show .btn-reset-link,
  .collapse.navbar-collapse.show .dropdown-item{
    color:#111 !important;
    text-shadow:none !important;
  }

  /* y mantenemos hamburguesa/logo/iconos ‚Äúcomo antes‚Äù arriba */
  .main-header.is-home:not(.scrolled) .navbar-toggler .line{ background:#fff; }
  .main-header.is-home:not(.scrolled) .navbar-brand img{
    filter: invert(1) brightness(1.05) contrast(1.05);
  }
  .main-header.is-home:not(.scrolled) .navbar-icons .icon-link{
    color:#fff !important;
    text-shadow: 0 2px 14px rgba(0,0,0,.35);
  }
}